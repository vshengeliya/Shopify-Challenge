(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{17:function(e,t,n){e.exports=n(33)},22:function(e,t,n){},23:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i);n(22);var l=function(){return r.a.createElement("h2",null," The Shoppies")},c=n(3),s=n(9),u=n(10),m=n(16),d=n(15),v=n(1),p=n(2);var h=function(e){return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{placeholder:"search movie",value:e.searchValue,onChange:e.searchHandler})))};var b=function(e){var t,n=function(){e.appClickHandler(e.movie)};return t=e.movie.nominated&&e.nominated?r.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(){e.removeClickHandler(e.movie)}},"remove"):e.movie.nominated?r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",disabled:!0,onClick:n},"nominated"):r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:n},"nominate"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"*",e.movie.Title,"(",e.movie.Year,")"),t)};n(23);function f(){var e=Object(v.a)(["\n    border: 1px solid gray;\n    border-radius: 6px;\n    padding: 8px;\n    width: 45%;\n    height: 50vh;\n    overflow: scroll;\n"]);return f=function(){return e},e}function g(){var e=Object(v.a)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n"]);return g=function(){return e},e}var E=p.a.div(g()),y=p.a.div(f());var k=function(e){return r.a.createElement(E,null,r.a.createElement(y,null,r.a.createElement("h6",null,e.tooManyResults?"Too many results - please refine search...":'Results for "'.concat(e.movie,'"')),r.a.createElement("p",null,"page ",e.page),r.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:e.changePage},"back"),r.a.createElement("button",{type:"button",className:"btn btn-light btn-sm",onClick:e.changePage},"forward"),function(){if(null!==e.movieObject&&void 0!==e.movieObject)return e.movieObject.map((function(t){return r.a.createElement(b,{movie:t,key:t.imdbID,appClickHandler:e.appClickHandler,updatedMovies:e.updatedMovies})}))}()),r.a.createElement(y,null,r.a.createElement("h6",null,"Nominations"),e.updatedMovies.filter((function(e){return!0===e.nominated})).map((function(t){return r.a.createElement(b,{movie:t,key:t.imdbID,removeClickHandler:e.removeClickHandler,nominated:!0})}))))},j=n(14),M=n.n(j);function O(){var e=Object(v.a)(["\n    width: 100%;\n    border: 1px solid gray;\n    border-radius: 6px;\n    padding: 8px;\n"]);return O=function(){return e},e}function C(){var e=Object(v.a)(["\n    display: flex;\n    flex-direction: column;\n    border: 1px solid blue;\n    height: auto;\n    justify-content: center;\n    align-items: center;\n"]);return C=function(){return e},e}var w=p.a.div(C()),H=p.a.div(O()),x=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={movie:"",movieObject:null,page:1,updatedMovies:[],nominatedMovies:null,isMax:!1,renderBanner:!1,tooManyResults:!1},e.changePage=function(t){if("forward"===t.target.innerText)e.setState({page:e.state.page+1});else{if(0===e.state.page)return alert("please move forward to see search result");e.setState({page:e.state.page-1})}},e.searchHandler=function(t){e.setState({movie:t.target.value})},e.appClickHandler=function(t){if(e.state.updatedMovies.filter((function(e){return!0===e.nominated})).length>4)e.setState({renderBanner:!0});else{var n=Object(c.a)(e.state.updatedMovies),a=Object(c.a)(e.state.movieObject),r=n.concat(a),i=Object(c.a)(new Set(r));a.find((function(e){return e===t})).nominated=!0,e.setState({updatedMovies:i})}},e.removeClickHandler=function(t){var n=Object(c.a)(e.state.updatedMovies);n.find((function(e){return e===t})).nominated=!1,e.setState({updatedMovies:n}),e.setState({renderBanner:!1})},e.renderDisplayBanner=function(){return r.a.createElement(M.a,{showBanner:!0},r.a.createElement("div",null,r.a.createElement("h4",null,"You've nominated all 5 movies, to change the selection, please remove a movie")))},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.movie===t.movie&&this.state.page===t.page||fetch("http://www.omdbapi.com/?s=".concat(this.state.movie,"&page=").concat(this.state.page,"&apikey=").concat("3b5b527e")).then((function(e){return e.json()})).then((function(e){"Too many results."===e.Error?n.setState({tooManyResults:!0}):n.setState({movieObject:e.Search,tooManyResults:!1})}))}},{key:"render",value:function(){return r.a.createElement(w,null,this.state.renderBanner?this.renderDisplayBanner():null,r.a.createElement(H,null,r.a.createElement("h3",null,"Movie Title"),r.a.createElement(h,{searchHandler:this.searchHandler,searchValue:this.state.movie})),r.a.createElement(k,{movie:this.state.movie,movieObject:this.state.movieObject,getNominatedMovies:this.getNominatedMovies,appClickHandler:this.appClickHandler,updatedMovies:this.state.updatedMovies,removeClickHandler:this.removeClickHandler,tooManyResults:this.state.tooManyResults,changePage:this.changePage,page:this.state.page}))}}]),n}(r.a.Component);var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l,null),r.a.createElement(x,null))};n(32);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.c856b4c2.chunk.js.map